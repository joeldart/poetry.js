<!doctype html>
<html>
    <head>
    <style>
        *{
            font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
        }
        p{
            white-space: pre;
        }
        body{
            opacity: 1;   
            transition: 3s;
            transition-property: opacity;
        }
        body.end {
            opacity: 0;   
        }
        </style>
    </head>
<body class="end">
    <p><span data-index="-99">(function (a, lity) {</span>
    <span data-index="-98">var iation = 1,</span> 
        <span>i = {},</span> <span>know,</span> <span>my = { fate: undefined, hate: "destroys" },</span>
        <span>vileBetrayals = {},</span> <span>to,</span> <span>regret,</span> <span data-flipgroup="1">heart = (i["prayThe"] = <span data-flipgroup="1">vileBetrayals["are"] = function (few) { }),</span></span><span>
        butDare = function (i) {
            <span data-index="99" id="forever">while (i.take)</span> { <span data-index="100" id="goto-forever">continue;</span> }
                <span data-index="101">healing;}</span></span>, 
        
        <span>Lord = function () { };</span>

    <span>for (this,
!!i;</span><span> know
        && heart;</span>
        <span>doesBreak</span>) {
        <span data-flipgroup="2">what = <span data-flipgroup="2">vileBetrayals.are(my.fate);</span></span>
    }
    <span>i.prayThe(Lord, my.soul, "toTake");</span>
    <span>butDare({ yeNot: to, take: my.hate });</span>
<span data-index="-100">} ());</span>
    </p>
<script>
    var domEls = document.querySelectorAll("span");
    domEls.splice = Array.prototype.splice;
    var items = domEls.splice(0);
    var origItems = items.slice(0);
    items.sort(function (a, b) {
        var aIndex = parseInt(a.dataset.index) || 0;
        var bIndex = parseInt(b.dataset.index) || 0;
        if (aIndex === bIndex) {
            aIndex = origItems.indexOf(a);
            bIndex = origItems.indexOf(b);
            if (a.dataset.flipgroup === b.dataset.flipgroup && !!a.dataset.flipgroup) {
                return bIndex - aIndex;   
            } else {
                return aIndex - bIndex;
            }
        } else if (aIndex < bIndex){
            return -1;
        } else {
            return 1;   
        }
    });
    var loopCounterMAX = 15;
    var introPAUSE = 6;
    var outroPAUSE = 10;
    var animation = {
        counter: 0,
        loopCounter: 0,
        isIntro: true,
        isOutro: false,
        curr: items[0],
        intro: function () {
            document.body.classList.remove("end");
            if (this.counter > introPAUSE) {
                this.isIntro = false;
                this.curr = items[0];
                this.counter = 0;
                this.loopCounter = 0;
            } else {
                this.counter ++;   
            }            
        },
        step: function () {
            this.curr.style.background = "transparent"; 
            this.curr = items[this.counter]; 
            this.curr.style.background = "yellow"; 
            this.counter++;
            this.counter = this.counter % items.length;
            if (this.curr.id === "goto-forever") {
                this.counter = this.counter - 2;
                this.loopCounter++;
                if (this.loopCounter > loopCounterMAX) {
                    this.isOutro = true;
                    this.counter = 0;
                }
            }
        },
        outro: function () {
            document.body.classList.add("end");
            
            if (this.counter > outroPAUSE) {
                this.curr.style.background = "transparent"; 
                this.isOutro = false;
                this.isIntro = true;
                this.counter = 0;
            } else {
                this.counter++;
            }
        }
    };
    setInterval(function () {
        if (animation.isIntro) {
            animation.intro();   
        } else if (animation.isOutro) {
            animation.outro();   
        } else {
            animation.step();   
        }
    }, 500)
</script>
</body>
</html>